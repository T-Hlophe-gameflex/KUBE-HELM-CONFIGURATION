# =============================================================================
# üåç ENVIRONMENT CONFIGURATION TEMPLATE
# =============================================================================
# Copy this file to .env and configure for your environment
# =============================================================================

# =============================================================================
# CLOUDFLARE API CONFIGURATION
# =============================================================================
# Required: Your Cloudflare API token with DNS permissions
# Get from: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here

# Optional: Default zone/domain (leave empty for dynamic selection)
CLOUDFLARE_DEFAULT_ZONE_ID=
CLOUDFLARE_DEFAULT_DOMAIN=

# Legacy support: Global API Key (not recommended)
# CLOUDFLARE_EMAIL=your-email@example.com
# CLOUDFLARE_API_KEY=your-global-api-key-here

# =============================================================================
# KUBERNETES CLUSTER CONFIGURATION
# =============================================================================
# Cluster name (for Kind clusters)
CLUSTER_NAME=kind

# Kubeconfig file path (leave empty to use default)
KUBECONFIG=

# Node configuration for Kind cluster
KIND_NODE_IMAGE=kindest/node:v1.28.0
KIND_WORKERS=2

# =============================================================================
# NAMESPACE CONFIGURATION
# =============================================================================
# ELK Stack namespace
ELK_NAMESPACE=elastic-stack

# Application services namespace
APP_NAMESPACE=app-services

# MetalLB namespace
METALLB_NAMESPACE=metallb-system

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Deployment mode: complete, elk-only, apps-only
DEPLOYMENT_MODE=complete

# Expose services via LoadBalancer
EXPOSE_SERVICES=true

# Cleanup before deployment
CLEANUP_FIRST=false

# Storage class for persistent volumes
STORAGE_CLASS=standard

# =============================================================================
# ELK STACK CONFIGURATION
# =============================================================================
# Elasticsearch configuration
ELASTICSEARCH_REPLICAS=1
ELASTICSEARCH_MEMORY=2Gi
ELASTICSEARCH_CPU=1000m
ELASTICSEARCH_STORAGE=10Gi

# Kibana configuration
KIBANA_MEMORY=1Gi

# Logstash configuration
LOGSTASH_MEMORY=1Gi

# Filebeat configuration
FILEBEAT_MEMORY=200Mi

# =============================================================================
# APPLICATION SERVICES CONFIGURATION
# =============================================================================
# PostgreSQL configuration
POSTGRES_PASSWORD=changeme123
POSTGRES_USER=appuser
POSTGRES_DB=appdb
POSTGRES_STORAGE=5Gi

# Application service configuration
ORDER_SERVICE_REPLICAS=2
USER_SERVICE_REPLICAS=2
ORDER_SERVICE_IMAGE=order-service:latest
USER_SERVICE_IMAGE=user-service:latest

# =============================================================================
# NETWORKING CONFIGURATION
# =============================================================================
# MetalLB IP range (adjust for your network)
METALLB_IP_RANGE=172.18.255.200-172.18.255.250

# Service port configurations
KIBANA_PORT=5601
ELASTICSEARCH_PORT=9200
LOGSTASH_PORT=5044

# Application service ports
ORDER_SERVICE_PORT=8080
USER_SERVICE_PORT=8080
POSTGRES_PORT=5432

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT secrets (change these!)
ORDER_SERVICE_JWT_SECRET=order-service-jwt-secret-key-change-me
USER_SERVICE_JWT_SECRET=user-service-jwt-secret-key-change-me

# API keys and secrets
APP_SECRET_KEY=your-app-secret-key-here

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Backup settings
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=./backups

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Enable debug mode
DEBUG=false

# Enable verbose output
VERBOSE=false

# Development mode settings
DEV_MODE=false
SKIP_VALIDATIONS=false

# =============================================================================
# RESOURCE LIMITS AND REQUESTS
# =============================================================================
# Default resource requests and limits
DEFAULT_CPU_REQUEST=100m
DEFAULT_MEMORY_REQUEST=128Mi
DEFAULT_CPU_LIMIT=500m
DEFAULT_MEMORY_LIMIT=512Mi

# High-resource applications
HIGH_CPU_REQUEST=500m
HIGH_MEMORY_REQUEST=1Gi
HIGH_CPU_LIMIT=2000m
HIGH_MEMORY_LIMIT=4Gi

# =============================================================================
# AUTOMATION CONFIGURATION
# =============================================================================
# Python interpreter path
PYTHON_CMD=/usr/local/bin/python3.13

# Ansible configuration
ANSIBLE_HOST_KEY_CHECKING=False
ANSIBLE_RETRY_FILES_ENABLED=False
ANSIBLE_STDOUT_CALLBACK=yaml

# Script timeouts (in seconds)
DEPLOYMENT_TIMEOUT=1800
CLEANUP_TIMEOUT=600
VALIDATION_TIMEOUT=300

# =============================================================================
# AWX CONFIGURATION
# =============================================================================
# AWX deployment settings
AWX_NAMESPACE=awx
AWX_ADMIN_USER=admin
AWX_PASSWORD=changeme123
AWX_VERSION=23.5.1

# AWX resource allocation
AWX_WEB_CPU_REQUEST=1000m
AWX_WEB_MEMORY_REQUEST=2Gi
AWX_WEB_CPU_LIMIT=2000m
AWX_WEB_MEMORY_LIMIT=4Gi

AWX_TASK_CPU_REQUEST=500m
AWX_TASK_MEMORY_REQUEST=1Gi
AWX_TASK_CPU_LIMIT=1000m
AWX_TASK_MEMORY_LIMIT=2Gi

# AWX features
AWX_SETUP_TEMPLATES=true
AWX_AUTO_CONFIGURE=true
VALIDATION_TIMEOUT=300

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable specific features
ENABLE_METALLB=true
ENABLE_MONITORING=true
ENABLE_BACKUP=true
ENABLE_SSL=false
ENABLE_INGRESS=false

# Experimental features
ENABLE_AUTOSCALING=false
ENABLE_SERVICE_MESH=false

# AWX Configuration (set after deployment)
# AWX_HOST=http://your-node-ip:30080
# AWX_USERNAME=admin
# AWX_PASSWORD=will-be-generated