# =============================================================================
# AWX Cloudflare Automation - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values
# cp .env.example .env
#
# IMPORTANT: Never commit .env file with real credentials to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Cloudflare Configuration
# -----------------------------------------------------------------------------

# Your Cloudflare API Token
# Create at: https://dash.cloudflare.com/profile/api-tokens
# Required Permissions:
#   - Zone - Zone - Read
#   - Zone - DNS - Edit
#   - Zone - Zone Settings - Edit
CLOUDFLARE_API_TOKEN=

# -----------------------------------------------------------------------------
# AWX Configuration
# -----------------------------------------------------------------------------

# AWX Host and Port (for API access)
# Default when using port-forward: localhost:8052
# Or use your ingress URL: awx.yourdomain.com
AWX_HOST=localhost:8052

# AWX Admin Username
# Default admin user created during installation
AWX_ADMIN_USER=admin

# AWX Admin Password
# Retrieved with: make get-password
# Or: kubectl get secret ansible-awx-admin-password -n awx -o jsonpath="{.data.password}" | base64 --decode
AWX_ADMIN_PASSWORD=

# AWX Template ID
# Default template ID for Cloudflare automation
# Find with: awx-cli job_template list
AWX_TEMPLATE_ID=21

# AWX Template Name
# Name of the job template
AWX_TEMPLATE_NAME="Cloudflare - Automation"

# -----------------------------------------------------------------------------
# Kubernetes Configuration
# -----------------------------------------------------------------------------

# Kubernetes Namespace
# Where AWX will be deployed
KUBE_NAMESPACE=awx

# AWX Instance Name
# Name of the AWX custom resource
AWX_INSTANCE_NAME=ansible-awx

# AWX Operator Version
# Version of AWX Operator to install
AWX_OPERATOR_VERSION=2.19.1

# -----------------------------------------------------------------------------
# Docker/Registry Configuration (for custom image builds)
# -----------------------------------------------------------------------------

# Container Registry
# docker.io, quay.io, ghcr.io, or your private registry
REGISTRY=docker.io

# Registry Username
# Your username/organization on the registry
REGISTRY_USER=

# Registry Password (for private registries)
# Leave empty for public registries or if using docker login
REGISTRY_PASSWORD=

# Image Name
# Name for your patched AWX image
IMAGE_NAME=awx-cloudflare-auto

# Base AWX Version
# Base version of AWX to patch
AWX_VERSION=24.6.1

# Image Tag
# Tag for your custom image
IMAGE_TAG=24.6.1-cf-auto

# -----------------------------------------------------------------------------
# Resource Configuration (Optional)
# -----------------------------------------------------------------------------

# AWX Web Pod Resources
AWX_WEB_CPU_REQUEST=500m
AWX_WEB_MEMORY_REQUEST=1Gi
AWX_WEB_CPU_LIMIT=1000m
AWX_WEB_MEMORY_LIMIT=2Gi

# AWX Task Pod Resources
AWX_TASK_CPU_REQUEST=500m
AWX_TASK_MEMORY_REQUEST=1Gi
AWX_TASK_CPU_LIMIT=1000m
AWX_TASK_MEMORY_LIMIT=2Gi

# PostgreSQL Resources
POSTGRES_CPU_REQUEST=250m
POSTGRES_MEMORY_REQUEST=512Mi
POSTGRES_CPU_LIMIT=500m
POSTGRES_MEMORY_LIMIT=1Gi

# PostgreSQL Storage
POSTGRES_STORAGE_CLASS=standard
POSTGRES_STORAGE_SIZE=8Gi

# -----------------------------------------------------------------------------
# Service Configuration (Optional)
# -----------------------------------------------------------------------------

# AWX Service Type
# Options: ClusterIP, NodePort, LoadBalancer
AWX_SERVICE_TYPE=ClusterIP

# Ingress Configuration
# Set to 'ingress' to enable, 'none' to disable
AWX_INGRESS_TYPE=none

# Ingress Hostname (if ingress enabled)
AWX_INGRESS_HOST=awx.yourdomain.com

# -----------------------------------------------------------------------------
# Development/Debug Settings (Optional)
# -----------------------------------------------------------------------------

# Ansible Verbosity Level
# Options: -v, -vv, -vvv, -vvvv (more v's = more verbose)
ANSIBLE_VERBOSE=-v

# Enable Debug Mode
# Set to 'true' to enable debug logging
DEBUG_MODE=false

# Dry Run Mode
# Set to 'true' to test without making actual changes
DRY_RUN=false

# -----------------------------------------------------------------------------
# Survey Management (Optional)
# -----------------------------------------------------------------------------

# Survey Spec File Path
# Path to survey specification template
SURVEY_SPEC_FILE=playbooks/cloudflare/survey_spec.json.j2

# Survey Update Interval
# How often to refresh dropdowns (in hours)
SURVEY_UPDATE_INTERVAL=24

# -----------------------------------------------------------------------------
# Backup Configuration (Optional)
# -----------------------------------------------------------------------------

# Backup Enabled
# Set to 'true' to enable automated backups
BACKUP_ENABLED=false

# Backup Schedule
# Cron format: "0 2 * * *" = daily at 2 AM
BACKUP_SCHEDULE="0 2 * * *"

# Backup Retention Days
# Number of days to keep backups
BACKUP_RETENTION_DAYS=30

# Backup Storage Path
# Local or remote path for backup storage
BACKUP_STORAGE_PATH=/backups/awx

# -----------------------------------------------------------------------------
# Monitoring/Alerting (Optional)
# -----------------------------------------------------------------------------

# Enable Prometheus Metrics
PROMETHEUS_ENABLED=false

# Prometheus Service Monitor
PROMETHEUS_SERVICE_MONITOR=false

# Slack Webhook for Alerts
# Get from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=

# Email for Alerts
ALERT_EMAIL=

# -----------------------------------------------------------------------------
# Advanced Settings (Optional - Use with caution)
# -----------------------------------------------------------------------------

# Custom AWX Configuration Secret
# If you have custom AWX settings
CUSTOM_AWX_SECRET_NAME=

# Extra Environment Variables for AWX Pods
# JSON format: '{"KEY1":"value1","KEY2":"value2"}'
EXTRA_ENV_VARS=

# Custom PostgreSQL Image
# If you want to use a different PostgreSQL version
CUSTOM_POSTGRES_IMAGE=

# Custom Redis Image
# If you want to use a different Redis version
CUSTOM_REDIS_IMAGE=

# Enable AWX Project Sync
# Auto-sync projects from SCM
PROJECT_SYNC_ENABLED=true

# AWX Instance Hostname
# Custom hostname for AWX instance
AWX_HOSTNAME=

# Timezone
# Timezone for AWX (e.g., America/New_York, Europe/London)
TIMEZONE=UTC

# =============================================================================
# End of Configuration
# =============================================================================

# Notes:
# - Lines starting with # are comments
# - Empty values will use defaults from Makefile or config files
# - Boolean values: true/false (lowercase)
# - For security, always use Kubernetes secrets for sensitive data
# - Test configuration with: make check-awx
